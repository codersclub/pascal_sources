<HTML>
<head>
<TITLE>Как завести пользователя и дать ему права - FAQ по Базам Данных - Исходники.Ру</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<LINK href="../sources.css" rel=stylesheet>
</head>
<body>
<table border="0" width="80%" align="center">
  <tr>
    <td valign="top">
      <h2>FAQ по Базам Данных<br>
      <font size="2">(<a class="blueb" href="http://pascal.sources.ru/cgi-bin/forum/YaBB.cgi" target="_blank">Форум
      на Исходниках.Ru</a>)</font></h2>
      <hr>
    </td>
  </tr>
  <tr>
    <td>
      <h3>Как завести пользователя и дать ему права</h3>
    </td>
  </tr>
  <tr>
    <td>
    Одним из основных недостатков
    MySQL является отсутствие визульных
    средств разработки и администрирования.
    Так что привыкайте все вводить с консоли,
    если хотите работать с этим сервером.
    Итак, запускаем консоль MySQL (предполагается,
    что сервер уже установлен, настроен и
    запущен.) Нам нужно создать нового
    ползователя. Можно сделать это двумя
    способами.
<br>
<br>
    Первый способ:<pre><font color="#008000">USE mysql;

INSERT INTO user VALUES ('%','new_user', PASSWORD('somepassw'),
       'Y','Y','Y','Y','Y','Y','Y','Y','Y','Y');
FLUSH PRIVILEGES;
</font></pre>
    Все данные о пользователях, базах и т.д.
    хранятся в MySQL в БД под названием mysql.
    Чтобы добавить пользователя, мы просто
    добавляем в таблицу новую запись. Первый
    значение - это IP-адреса, с которых можно
    подключаться к серверу под этим именем
    пользователя. Я поставил '%', что значит,
    что можно подключаться с любого IP. Можно
    указать конкретный IP, и тогда подключение
    будет разрешено только с него. Следующие
    значения - это имя пользователя и пароль
    для него. Обратите внимание: пароль
    должен быть зашифрован командой PASSWORD,
    иначе пользователь не сможет
    подключаться к базе, т.к. сравниваются не
    пароли, а резултаты шифрования! В конце
    идет перечисление прав (SELECT, INSERT, DELETE, etc).
    Эти поля могут иметь только два значения Y
    (разрешено) и N (запрещено). В конце не
    забудьте выполнить <font color="#008000">FLUSH&nbsp;PRIVILEGES</font>
    для вступления изменений в силу.
    Но согласитесь, что способ этот не
    очень-то удобный.
    Поэтому лучше делать так:<pre><font color="#008000">GRANT ALL PRIVILEGES ON *.* TO user@&quot;%&quot;
      IDENTIFIED BY 'some_passw' WITH GRANT OPTION;
</font></pre>
    Что же все это означает?
    <font color="#008000">ALL PRIVILEGES</font> -
    дает все привилегии пользователю.
    Если нужно дать только некоторые
    привилегии, их нужно перечислить через
    запятую: <font color="#008000">SELECT, INSERT,</font> и т.д. <font color="#008000">*.*</font> означает к каким базам
    данных и таблицам имеет доступ пользователь.
    Обозначения делаются следующим образом
    &quot;База.Таблица&quot;. <font color="#008000">user@&quot;%&quot;</font>
    - имеет вид &quot;Имя_пользователя@IP-адрес&quot;,
    т.е. с каких IP может быть установлено
    соединение с этим логином (в примере - с
    любого IP). С паролем, я думаю, все понятно,
    а вот что же такое <font color="#008000">WITH GRANT OPTION?</font>
    Это значит, что пользователь может передать
    свои привилегии другому пользователю, т.е.
    создать другого пользователя с такими же
    правами. Если этой опции нет, то и нового
    юзера наш <font color="#008000">user</font> не сможет :)
<br>
<br>
    <a class="blueb" href="../index.html">Содержание</a>
    </td>
  </tr>
</table>
</body>
</HTML>
