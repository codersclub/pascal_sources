<html><head><title>Turbo Pascal: тряхнем стариной! (Часть 2) - Статьи о Паскале - Pascal.Sources.Ru</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="description" content='Приступим к практике и сваяем с помощью ТР... веб-сайт. (Обработка HTML файлов для вашего сайта)'>
<meta name="keywords" content='pascal, sources, source code, article, Приступим к практике и сваяем с помощью ТР... веб-сайт (Обработка HTML файлов для вашего сайта)'>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../sources.css"></head><BODY><center>
<!--#include virtual="/t_hmenu.htm"-->
<div align='left'>&nbsp;&nbsp;&nbsp;<a class='title' href="index.htm">Статьи о Паскале</a>&nbsp&nbsp;&nbsp;&nbsp;<small>&gt;&gt;</small>&nbsp;&nbsp;&nbsp;&nbsp;Turbo Pascal: тряхнем стариной! (Часть 2)
<br>&nbsp;&nbsp;&nbsp;<img border=0 height=4 width=70% align='top' src="../img/b.gif" alt="">
<br>&nbsp;
</div>
<TABLE cellSpacing=0 cellpadding=0 width=97% border=0>
<TR class=subheader><TD colSpan=3><IMG height=2 src="../img/1x1.gif" width=1></td></tr>
<TR><TD class=subheader width=70% nowrap>&nbsp;Turbo Pascal: тряхнем стариной! (Часть 2)
</TD><TD nowrap class=black>&nbsp;&nbsp;
Михаил Проломов
</TD>
<TD class=black align='right'>23.01.2001</TD></TR>
<TR vALign=top><TD class=black><p style="margin-left:20px">
<br>Приступим к практике и сваяем с помощью ТР... веб-сайт. (Обработка HTML файлов для вашего сайта)
</TD><TD class=black colspan=2 align='right'><img border=0 align=middle src="../img/more.gif">
<br>9k&nbsp;</TD></TR><TR><TD>&nbsp;</TD></TR>
<TR class=subheader><TD colSpan=3><IMG height=2 src="../img/1x1.gif" width=1></td></tr>
<TR><TD colspan=3>
<div style="margin-left:50px">


<a href="http://www.softerra.ru/review/program/6804/">Софтерра</a>
<hr size=1 noshade>

<h2>Turbo Pascal: тряхнем стариной! (Часть 2)</h2>
<p>Приступим к практике и сваяем с помощью ТР... веб-сайт.</p>
<a href=mailto:submitit2me@mail.ru>Михаил Проломов</a>
<br>23.01.2001

<P>В продолжение <A target=_blank href="6728.htm">статьи</A> о возможностях применения Turbo Pascal "в наши дни" (можно даже сказать более пафосно: "в наш век"), мы рассмотрим практические аспекты создания web-сайтов.</P>
<P>Сегодня большие сайты часто создаются с использованием автоматической генерации HTML-документов. Самый типичный пример - поисковая система. Даже главная страница на таких сайтах генерируется автоматически, а не вручную. Каждые несколько минут содержание страницы меняется - обновляются новости, "горячие десятки" и так далее.</P>
<P>В то же время, стиль страницы остается неизменным. Разметка практически не меняется. Таким образом, в каждой странице можно выделить статическую и динамическую части. Статическая часть - это HTML тэги, а также текст и графика, постоянные для каждой страницы. Сюда относится, как правило, header ("шапка"), т.е. информация о фирме, баннер, навигация, находящиеся вверху страницы, и footer (затрудняюсь с русским переводом), то бишь информация, располагающаяся внизу страницы - e-mail адреса, контактные телефоны и т.д. Также часто используются боковые навигационные панели и другие статические элементы.</P>
<P>Динамическими элементами мы будем называть те области HTML-документа, содержание которых изменяется на различных страницах. При этом их местоположение и стиль (вид и размер шрифта, начертание) остаются одинаковыми. Для графических элементов неизменным остается выравнивание, иногда - размеры.</P>
<P>На этом начальная терминология заканчивается. Дальнейшее обсуждение будет трудно понять без базовых знаний Turbo Pascal (конечно, желательно также знание HTML). Тем, кто HTML не знает, надо принять к сведению, что так называемые "тэги" - это управляющие операторы разметки; они заключены в скобки "&lt;" и "&gt;" (например &lt;head&gt; или &lt;HEAD&gt;), и их нужно будет оставлять неизменными от одной страницы к другой.</P>
<P>В начале статьи мы коснулись работы генератора страниц поисковой машины. Сразу хочу предупредить, что на Turbo Pascal написать онлайновый генератор страниц невозможно. Необходимые страницы можно создать лишь на своем ПК и после загрузить их на сервер провайдера. Таким образом, количество файлов будет ограничено размером вашего web-сервера, и создавать страницы ответов на запросы не получится. Хотя, если ваш сайт содержит более 10 страниц, такие программы могут сильно упростить вашу жизнь.</P>
<P>Итак, нужно создать программу на Turbo Pascal, которая бы формировала на основе "базового" HTML-документа другие, подобные ему, с заменой динамической информации. Для осуществления этой задачи необходимо, во-первых, создать (руками или в html-редакторе) документ-"родитель". Затем, просмотреть документ в текстовом редакторе (WordPad) и заменить все динамические элементы на СПЕЦИАЛЬНЫЕ КОДЫ.</P>
<P>Пример:</P>
<TABLE cellSpacing=0 cellPadding=2 width="93%" align=center border=1>
<TR>
<TD><B>Было:</B></TD>
<TD>&lt;td width="75%"&gt;&lt;small&gt;Согласование в официальных инстанциях всех необходимых документов.&lt;/small&gt;&lt;/td&gt;</TD></TR>
<TR>
<TD colSpan=2>где "Согласование в официальных инстанциях всех необходимых документов." - динамически изменяемый текст</TD></TR>
<TR>
<TD><B>Стало:</B></TD>
<TD>&lt;td width="75%"&gt;&lt;small&gt; sogldoc1 &lt;/small&gt;&lt;/td&gt;</TD></TR>
<TR>
<TD colSpan=2>где sogldoc1 - условный код (придумывается самостоятельно)</TD></TR></TABLE>
<P>Естественно, что если созданный файл имел какую-либо практическую ценность, перед созданием из него "базы" файл надо переименовать.</P>
<P>После этого нужно присвоить созданному файлу условное имя (у нас это будет index1.htm), запустить Turbo Pascal и написать программу.</P>
<P>Для начала разработаем алгоритм программы в "общем виде":</P>
<OL>
<LI>Находим файл-источник (тот самый index1.htm). Открываем на чтение. 
<LI>Создаем новый пустой файл, в который будет осуществляться запись (формирование динамически измененного HTML-документа). Открываем на запись. 
<LI>Читаем строчку из файла-источника. 
<LI>Проверяем на наличие условного кода (обозначает необходимость вставки нового текста). 
<LI>Если код присутствует, заменяем его на соответствующее выражение (ввод с клавиатуры из заранее открытого файла или каким-то другим способом) 
<LI>Выводим строчку в файл-приемник. 
<LI>Повторяем с пункта 3, пока не будет достигнут конец файла.</LI></OL>
<P>Если даже этот текст перевести на английский, получится почти готовая программа.</P>
<P>Вот основные операторы, которые нам понадобятся:</P>

<TABLE cellSpacing=0 cellPadding=2 width="93%" align=center border=1>
<TR>
<TD>Находим файл-источник (тот самый index1.htm).<BR>Открываем на чтение.</TD>
<TD>assign(src,'index1.htm');<BR>reset(src);</TD></TR>
<TR>
<TD colSpan=2>Var<BR>Src:text;{от английского source - источник}</TD></TR>
<TR>
<TD>Создаем новый пустой файл, в который будет осуществляться запись.<BR>Открываем на запись.</TD>
<TD>assign(dest,'newfile.htm');<BR>rewrite(dest);</TD></TR>
<TR>
<TD colSpan=2>Var<BR>dest:text;{от английского destination - пункт назначения}</TD></TR>
<TR>
<TD>Читаем строчку из файла-источника.</TD>
<TD>readln(src,stroka);</TD></TR>
<TR>
<TD colSpan=2>Var<BR>Stroka:string;{не забывайте, что максимальная длина строки в TP - 255 символов, оптимизируйте исходные файлы соответственно}</TD></TR>
<TR>
<TD>Проверяем на наличие условного кода (обозначает необходимость вставки нового текста).</TD>
<TD>posres:=pos('sogldoc1',stroka);</TD></TR>
<TR>
<TD colSpan=2>Var<BR>Posres:byte;{смотри описание к функции pos}</TD></TR>
<TR>
<TD>Если код присутствует, заменяем его на соответствующее выражение (ввод с клавиатуры из заранее открытого файла или другим способом)</TD>
<TD>if (posres &lt;&gt; 0) then</TD></TR>
<TR>
<TD colSpan=2>Как вы будете менять текст внутри переменной stroka перед ее выводом в файл-приемник - зависит исключительно от вас. Я намеренно не предлагаю простых решений, они и так очевидны.</TD></TR>
<TR>
<TD>Выводим строчку в файл-приемник.</TD>
<TD>writeln(dest,stroka);</TD></TR></TBODY></TABLE>
<P>В данной статье приведены лишь начальные данные. О том, как, к примеру, создать цикл для обработки нескольких страниц, организовать загрузку динамического текста из файла или с клавиатуры и еще о многом другом здесь не говорится. Но, думаю, полученной информации вполне достаточно, чтобы увидеть, как просто можно создавать различные интересные программы для разработки веб-сайтов в оффлайне. В остальном вам предлагается полная свобода, но не забывайте писать автору на <A href="mailto:submitit2me@mail.ru">submitit2me@mail.ru</A> об интересных решениях, придуманных вами. Пробуйте. Фантазируйте. Творите!</P>
<P>И делитесь впечатлениями со мной, я их обязательно опубликую.</P>
<br>
<hr size=1 noshade>
<a href="http://www.softerra.ru/review/program/6804/">Софтерра</a>
<br>
<br>



</DIV>
<!--#include virtual="/t_footer.htm"-->
