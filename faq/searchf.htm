<html><head><title>FIL. Как найти файлы на диске</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="description" content='Приведен пример поиска файлов по маске по всему диску. '>
<meta name="keywords" content="pascal, sources, source code, searchf, faq, ЧАВО - Частые Вопросы и Ответы ">
<LINK REL=STYLESHEET TYPE="text/css" HREF="../sources.css"></head><BODY><center>

<!--#include virtual="/t_hmenu.htm"-->


<div align='left'>&nbsp;&nbsp;&nbsp;<a class='title' href="index.htm">ЧАВО - Частые Вопросы и Ответы</a>&nbsp&nbsp;&nbsp;&nbsp;<small>&gt;&gt;</small>&nbsp;&nbsp;&nbsp;&nbsp;searchf
<br>&nbsp;&nbsp;&nbsp;<img border=0 height=4 width=50% align='top' src="../img/b.gif" alt="">
<br>&nbsp;
</div>


<TABLE cellSpacing=0 cellpadding=0 width=97% border=0>

<TR class=subheader><TD colSpan=3><IMG height=2 src="../img/1x1.gif" width=1></td></tr>
<TR><TD class=subheader width=70% nowrap>&nbsp;FIL. Как найти файлы на диске</TD>
<TD nowrap class=black>&nbsp;<img border=0 align=bottom src="../img/mail.gif">&nbsp;<a href="mailto:2:5054/26">Victor Shantar</a></TD>
<TD class=black align='right'>06.12.1997</TD></TR>
<TR vALign=top><TD class=black>&#10;<p style="margin-left:20px">Приведен пример поиска файлов по маске по всему диску. </TD><TD class=black colspan=2 align='right'><br>&nbsp;</TD></TR><TR><TD>&nbsp;</TD></TR>

<TR class=subheader><TD colSpan=3><IMG height=2 src="../img/1x1.gif" width=1></td></tr>
<TR><TD colspan=3><PRE><p style="margin-left:50px">{&gt; Cut here. FileName= SEARCHF.MSG }
- FAQ ---------------------------------------- ЧАВО - Частые Вопросы и Ответы -
 Msg  : 2 of 51                              Addr                        Date
 From : Victor Shantar                2:5054/26                        06.12.97
 Subj : Как найти файлы на диске
-------------------------------------------------------------------------------
&gt; Hello...

 Однажды 05 Dec 97 07:15, Andrew Zamotaylov писал к All, а я вмешался:
 AZ&gt; Каким обpазом pеалаизуется поиск по шаблону, наапpимеp, на всём винте?
 AZ&gt; Слышал, делается pекуpентно, но облом писать самому, велосипед
                      ^^^^^^^^^^ - рекурсивно
 AZ&gt; изобpетать. Может кто закинет сыpсовик?

Hу все... Это крайний раз. В следующий буду просто тихо материться.
За месяц уже 5 раз одно и тоже... :(


&gt; Пока...
ћ Hе удивляйтесь, что когда вы поднимите камень, дабы бросить его в человека
  основательно насолившего вам, у вас отберут ваше оружие и предложат встать
  в очередь из людей желающих сделать тоже самое. :)

--- [Hedgehog House] Phone: +7-3422-622044  Work Time: 00:00 - 07:30 Local
 * Origin: Это не GoldEd. Это примочка к Д00Му для написания писем. (2:5054/26)

{&gt; Cut here. FileName= SEARCHF.PAS }
{
 From : Victor Shantar                2:5054/26                        06.12.97
 Subj : Как найти файлы на диске
}
Uses DOS;
Procedure PrintFiles(path,mask:string);
var sr:searchrec;
begin
  findfirst(path+mask,anyfile-directory,sr);
  while doserror=0 do begin
    writeln(path+sr.name);
    findnext(sr);
  end;
end;

Procedure SearchFiles(path,mask:string);
var sr:searchrec;
begin
  PrintFiles(path,mask);
  findfirst(path+'*.*',anyfile,sr);
  while doserror=0 do begin
    if (sr.attr and directory=directory) and
       (sr.name&lt;&gt;'.') and (sr.name&lt;&gt;'..') then
      SearchFiles(path+sr.name+'\',mask); { Рекурсивный вызов }
    findnext(sr);
  end;
end;

begin
  SearchFiles('C:\','*.PAS');
{  WriteFiles('D:\GAMES\','d??.?e?');
  writeFiles('e:\','*.*');}
end.</PRE>

<!--#include virtual="/t_footer.htm"-->
